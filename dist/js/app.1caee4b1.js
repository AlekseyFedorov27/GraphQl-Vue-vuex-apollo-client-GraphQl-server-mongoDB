(function(t){function e(e){for(var r,a,c=e[0],d=e[1],s=e[2],l=0,m=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(t[r]=d[r]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var d=n[c];0!==i[d]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var u=d;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0332":function(t,e,n){"use strict";var r=n("23c6"),i=n.n(r);i.a},"1fe7":function(t,e,n){},"23c6":function(t,e,n){},"36d4":function(t,e,n){"use strict";var r=n("60f9"),i=n.n(r);i.a},"377e":function(t,e,n){},4607:function(t,e,n){"use strict";var r=n("f80c"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navbar"),n("router-view")],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-toolbar",{staticClass:"md-accent",attrs:{"md-elevation":"1"}},[n("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v("GraphQL Vue")]),n("md-button",{attrs:{to:"/"}},[n("md-icon",[t._v("camera")]),t._v(" MOVIES")],1),n("md-button",{staticClass:"md-primary",attrs:{to:"/directorList"}},[n("md-icon",[t._v("movie")]),t._v(" DIRECTORS")],1)],1)],1)},c=[],d={},s=d,u=(n("9b58"),n("2877")),l=Object(u["a"])(s,a,c,!1,null,"eefa29b0",null),m=l.exports,f={components:{navbar:m},data:function(){return{}}},v=f,p=Object(u["a"])(v,i,o,!1,null,null,null),g=p.exports,h=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[(t.movies.loading=null)?n("md-progress-spinner",{attrs:{"md-diameter":100,"md-stroke":10,"md-mode":"indeterminate"}}):t._e(),t.showDialog?n("popupAddMovie",{on:{closeDialog:function(e){t.showDialog=!1}}}):t._e(),t.showDialogEdit?n("popupEditMovie",{attrs:{movieDataEdit:t.editMovieData},on:{closeDialogListen:t.closeDialogEd}}):t._e(),n("div",[t.movies.loading?t._e():n("md-table",{attrs:{"md-sort":"name","md-sort-order":"asc","md-card":""},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var r=e.item;return n("md-table-row",{},[n("md-table-cell",{attrs:{"md-label":"id","md-numeric":"","md-sort-by":"idx"}},[t._v(t._s(r.idx))]),n("md-table-cell",{attrs:{"md-label":"Name","md-sort-by":"name"}},[t._v(t._s(r.name))]),n("md-table-cell",{attrs:{"md-label":"Genre","md-sort-by":"genre"}},[t._v(t._s(r.genre))]),n("md-table-cell",{attrs:{"md-label":"Director","md-sort-by":"director.name"}},[t._v(t._s(r.director?r.director.name:""))]),n("md-table-cell",{attrs:{"md-label":"Rate","md-sort-by":"rate"}},[t._v(t._s(r.rate))]),n("md-table-cell",{attrs:{"md-label":"Watched"}},[t._v("\n        "+t._s(r.watched)+"\n\n       ")]),n("md-table-cell",{attrs:{"md-label":"Delete / Edit"}},[n("md-button",{staticClass:"md-icon-button md-accent",on:{click:function(e){return t.deleteMovie(r.id)}}},[n("md-icon",[t._v("delete")])],1),n("md-button",{staticClass:"md-icon-button md-primary",on:{click:function(e){return t.popupEditMovie(r)}}},[n("md-icon",[t._v("create")])],1)],1)],1)}}],null,!1,2376273317),model:{value:t.movies,callback:function(e){t.movies=e},expression:"movies"}},[n("md-table-toolbar",[n("h1",{staticClass:"md-title"},[t._v("Фильмы")]),t.movies.length?n("p",[t._v(t._s(t.movies.director))]):t._e()])],1)],1),n("div",{on:{click:function(e){t.showDialog=!t.showDialog}}},[n("md-button",{staticClass:"md-fab md-primary btn-add"},[n("md-icon",[t._v("add")])],1)],1)],1)},D=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog",{staticClass:"color_bg",attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e},"update:md-active":function(e){t.showDialog=e}}},[n("md-dialog-title",[t._v("Добавить фильм")]),n("md-field",{attrs:{"md-inline":""}},[n("label",[t._v("Название")]),n("md-input",{attrs:{required:""},model:{value:t.film.name,callback:function(e){t.$set(t.film,"name",e)},expression:"film.name"}})],1),n("md-field",{attrs:{"md-inline":""}},[n("label",[t._v("Жанр")]),n("md-input",{attrs:{required:""},model:{value:t.film.genre,callback:function(e){t.$set(t.film,"genre",e)},expression:"film.genre"}})],1),n("md-field",[n("label",[t._v("Рейтинг")]),n("md-input",{attrs:{type:"number",required:""},model:{value:t.film.rate,callback:function(e){t.$set(t.film,"rate",t._n(e))},expression:"film.rate"}})],1),n("div",{staticClass:"md-layout-item"},[n("md-field",[n("label",{attrs:{for:"directors"}},[t._v("Режисер")]),n("md-select",{attrs:{required:""},model:{value:t.film.director,callback:function(e){t.$set(t.film,"director",e)},expression:"film.director"}},t._l(t.directors,(function(e,r){return n("md-option",{key:r,model:{value:e.id,callback:function(n){t.$set(e,"id",n)},expression:"item.id"}},[t._v("\n            "+t._s(e.name)+"\n          ")])})),1)],1)],1),n("button",{on:{click:t.addMovie}},[t._v("\n      Добавить\n    ")])],1)],1)},_=[],y={data:function(){return{showDialog:!0,showDialogEdit:!0,film:{name:"",genre:"",rate:5,director:"",watched:!0}}},computed:{directors:function(){return this.$store.getters.directors}},created:function(){this.$store.dispatch("getDirectors")}},$={name:"add_movie",mixins:[y],methods:{addMovie:function(){this.$store.dispatch("addMovie",this.film),this.$emit("closeDialog")}}},O=$,E=(n("0332"),Object(u["a"])(O,w,_,!1,null,null,null)),j=E.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog",{staticClass:"color_bg",attrs:{"md-active":t.showDialogEdit},on:{"update:mdActive":function(e){t.showDialogEdit=e},"update:md-active":function(e){t.showDialogEdit=e}}},[n("md-dialog-title",[t._v("Редактировать фильм")]),n("md-field",{attrs:{"md-inline":""}},[n("label",[t._v("Название")]),n("md-input",{attrs:{required:""},model:{value:t.movieDataEdit.name,callback:function(e){t.$set(t.movieDataEdit,"name",e)},expression:"movieDataEdit.name"}})],1),n("md-field",{attrs:{"md-inline":""}},[n("label",[t._v("Жанр")]),n("md-input",{attrs:{required:""},model:{value:t.movieDataEdit.genre,callback:function(e){t.$set(t.movieDataEdit,"genre",e)},expression:"movieDataEdit.genre"}})],1),n("md-field",[n("label",[t._v("Рейтинг")]),n("md-input",{attrs:{type:"number",required:""},model:{value:t.movieDataEdit.rate,callback:function(e){t.$set(t.movieDataEdit,"rate",t._n(e))},expression:"movieDataEdit.rate"}})],1),n("div",{staticClass:"md-layout-item"},[n("md-field",[n("label",{attrs:{for:"directors"}},[t._v("Режисер")]),n("md-select",{model:{value:t.movieDataEdit.director.id,callback:function(e){t.$set(t.movieDataEdit.director,"id",e)},expression:"movieDataEdit.director.id"}},t._l(t.directors,(function(e,r){return n("md-option",{key:r,model:{value:e.id,callback:function(n){t.$set(e,"id",n)},expression:"item.id"}},[t._v("\n            "+t._s(e.name)+"\n          ")])})),1)],1)],1),n("button",{on:{click:t.editMovie}},[t._v("\n      Записать\n    ")])],1)],1)},k=[],M=(n("8e6e"),n("ac6a"),n("456d"),n("bd86"));function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(n,!0).forEach((function(e){Object(M["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C={name:"add_movie",props:["movieDataEdit"],mixins:[y],methods:{editMovie:function(){var t=P({},this.movieDataEdit,{directorId:this.movieDataEdit.director.id});this.$store.dispatch("editMovie",t),this.$emit("closeDialogListen")}}},S=C,R=(n("36d4"),Object(u["a"])(S,x,k,!1,null,null,null)),q=R.exports,A={components:{popupAddMovie:j,popupEditMovie:q},name:"app",data:function(){return{allmovies:null,showDialog:!1,showDialogEdit:!1}},computed:{movies:{get:function(){return this.$store.getters.movies},set:function(t){this.$store.commit("getMovies",t)}}},methods:{closeDialog:function(){this.showDialog=!1},closeDialogEd:function(){this.showDialogEdit=!1},deleteMovie:function(t){this.$store.dispatch("deleteMovie",t)},popupEditMovie:function(t){this.editMovieData=t,this.showDialogEdit=!this.showDialogEdit}},created:function(){this.$store.dispatch("getMovies")}},L=A,N=(n("4607"),Object(u["a"])(L,b,D,!1,null,"45132e54",null)),T=N.exports;n("dce7");r["default"].use(h["a"]);var B=new h["a"]({mode:"history",base:"/",routes:[{path:"/",name:"movieList",component:T},{path:"/directorList",name:"directorList",component:function(){return Promise.resolve().then(n.bind(null,"dce7"))}}]}),F=(n("7f7f"),n("aede")),G=(n("96cf"),n("3b8d")),J=(n("20d6"),n("2f62")),V=n("9530"),Q=n.n(V),W=n("2c82"),z=new W["a"]({uri:"https://graphqlmyblog.herokuapp.com/graphql"});function H(){var t=Object(F["a"])(["\n\t\t\tmutation updateMovie ($id:ID, $name: String!, $genre: String!, $directorId: ID, $watched: Boolean!, $rate: Int){\n\t\t\t\tupdateMovie (id: $id, name: $name, genre: $genre, directorId: $directorId, watched: $watched, rate: $rate) {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tgenre\n\t\t\t\t\twatched\n\t\t\t\t\trate\n\t\t\t\t\tdirector {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}"]);return H=function(){return t},t}function K(){var t=Object(F["a"])(["\n\t\t\tmutation addMovie ($name: String!, $genre: String!, $directorId: ID, $watched: Boolean!, $rate: Int){\n\t\t\t\taddMovie ( name: $name, genre: $genre, directorId: $directorId, watched: $watched, rate: $rate) {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tgenre\n\t\t\t\t\twatched\n\t\t\t\t\trate\n\t\t\t\t\tdirector {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}"]);return K=function(){return t},t}function U(){var t=Object(F["a"])(["\n\t\t\tmutation ($id: ID){\n\t\t\t\tdeleteMovie ( id: $id ) {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}"]);return U=function(){return t},t}function X(){var t=Object(F["a"])(["\n\t\t\tmutation ($id: ID){\n\t\t\t\tdeleteDirector ( id: $id ) {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}"]);return X=function(){return t},t}function Y(){var t=Object(F["a"])(["\n\t\t\tmutation updateDirector ($id:ID, $name: String!, $age:Int!){\n\t\t\t\tupdateDirector (id: $id, name: $name, age: $age ) {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tage\n\t\t\t\t}\n\t\t\t}"]);return Y=function(){return t},t}function Z(){var t=Object(F["a"])(["\n\t\t\tmutation addDirector ($name: String!, $age:Int!){\n\t\t\t\taddDirector ( name: $name, age: $age ) {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tage\n\t\t\t\t}\n\t\t\t}"]);return Z=function(){return t},t}function tt(){var t=Object(F["a"])(["\n\t\t\t\tquery  {\n\t\t\t\t\tdirectors {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\tage\n\t\t\t\t\t\t\tmovies {\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}"]);return tt=function(){return t},t}function et(){var t=Object(F["a"])(["\n\t\t\t\tquery  {\n\t\t\t\t\tmovies {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\tgenre\n\t\t\t\t\t\t\trate\n\t\t\t\t\t\t\twatched\n\t\t\t\t\t\t\tdirector{\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}"]);return et=function(){return t},t}function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(n,!0).forEach((function(e){Object(M["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}r["default"].use(J["a"]);var it=new J["a"].Store({state:{movies:[],directors:[]},getters:{movies:function(t){return t.movies},directors:function(t){return t.directors}},mutations:{getMovies:function(t,e){t.movies=e},addMovie:function(t,e){t.movies.push(rt({},e,{idx:t.movies.length+1}))},deleteMovie:function(t,e){t.movies=t.movies.filter((function(t){return t.id!==e}))},editMovie:function(t,e){var n=t.movies.findIndex((function(t){return t.id==e.id}));t.movies[n]=e},getDirectors:function(t,e){t.directors=e},addDirector:function(t,e){t.directors.push(rt({},e,{idx:t.directors.length+1}))},editDirector:function(t,e){var n=t.directors.findIndex((function(t){return t.id==e.id}));t.directors[n]=e},deleteDirector:function(t,e){t.directors=t.directors.filter((function(t){return t.id!==e}))}},actions:{getMovies:function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=Q()(et()),t.next=4,z.query({query:r}).then((function(t){var e=t.data.movies.map((function(t){return t}));n("getMovies",e)})).catch((function(t){return console.log(t)}));case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getDirectors:function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=Q()(tt()),t.next=4,z.query({query:r}).then((function(t){var e=t.data.directors.map((function(t){return t}));n("getDirectors",e)})).catch((function(t){return console.log(t)}));case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),addDirector:function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,console.log(n),i=Q()(Z()),t.next=5,z.mutate({mutation:i,variables:{name:n.name,age:n.age}}).then((function(t){console.log(t),r("addDirector",t.data.addDirector)})).catch((function(t){return console.log(t)}));case 5:t.sent;case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),editDirector:function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=Q()(Y()),t.next=4,z.mutate({mutation:i,variables:{id:n.id,name:n.name,age:n.age}}).then((function(t){r("editDirector",t.data.updateDirector)})).catch((function(t){return console.log(t)}));case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteDirector:function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=Q()(X()),t.next=4,z.mutate({mutation:i,variables:{id:n}}).then((function(t){r("deleteDirector",n)})).catch((function(t){return console.log(t)}));case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteMovie:function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=Q()(U()),t.next=4,z.mutate({mutation:i,variables:{id:n}}).then((function(t){r("deleteMovie",n)})).catch((function(t){return console.log(t)}));case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),addMovie:function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=Q()(K()),t.next=4,z.mutate({mutation:i,variables:{name:n.name,genre:n.genre,directorId:n.director,watched:n.watched,rate:+n.rate}}).then((function(t){r("addMovie",t.data.addMovie)})).catch((function(t){return console.log(t)}));case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),editMovie:function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,console.log(n),i=Q()(H()),t.next=5,z.mutate({mutation:i,variables:{id:n.id,name:n.name,genre:n.genre,directorId:n.directorId,watched:n.watched,rate:+n.rate}}).then((function(t){r("editMovie",t.data.updateMovie)})).catch((function(t){return console.log(t)}));case 5:t.sent;case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()}}),ot=it,at=n("9483");Object(at["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var ct=n("43f9"),dt=n.n(ct);n("51de");r["default"].use(dt.a),r["default"].config.productionTip=!1,r["default"].prototype.$apollo=z,new r["default"]({store:ot,router:B,render:function(t){return t(g)}}).$mount("#app")},"60f9":function(t,e,n){},"8b1e":function(t,e,n){},"9b58":function(t,e,n){"use strict";var r=n("1fe7"),i=n.n(r);i.a},c808:function(t,e,n){"use strict";var r=n("377e"),i=n.n(r);i.a},d123:function(t,e,n){},dce7:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showDialog?n("popupAddDirector",{on:{closeDialog:function(e){t.showDialog=!1}}}):t._e(),t.showDialogEdit?n("popupEditDir",{attrs:{directorDataEdit:t.editDirectorData},on:{closeDialogEd:function(e){t.showDialogEdit=!1}}}):t._e(),n("md-table",{attrs:{"md-sort":"name","md-sort-order":"asc","md-card":""},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var r=e.item;return n("md-table-row",{},[n("md-table-cell",{attrs:{"md-label":"Name","md-sort-by":"name"}},[t._v(t._s(r.name))]),n("md-table-cell",{attrs:{"md-label":"Age","md-sort-by":"age"}},[t._v(t._s(r.age))]),n("md-table-cell",{attrs:{"md-label":"Movies"}},t._l(r.movies,(function(e,r){return n("div",{key:r},[t._v("\n       "+t._s(r+1)+" "+t._s(e.name)+"\n        ")])})),0),n("md-table-cell",{attrs:{"md-label":"Delete / Edit"}},[n("md-button",{staticClass:"md-icon-button md-accent",on:{click:function(e){return t.deleteDirector(r.id)}}},[n("md-icon",[t._v("delete")])],1),n("md-button",{staticClass:"md-icon-button md-primary",on:{click:function(e){return t.popupEditDirector(r)}}},[n("md-icon",[t._v("create")])],1)],1)],1)}}]),model:{value:t.directors,callback:function(e){t.directors=e},expression:"directors"}},[n("md-table-toolbar",[n("h1",{staticClass:"md-title"},[t._v("Режисеры")])]),n("p",[t._v(t._s(t.directors))])],1),n("div",{on:{click:function(e){t.showDialog=!t.showDialog}}},[n("md-button",{staticClass:"md-fab md-primary btn-add"},[n("md-icon",[t._v("add")])],1)],1)],1)},i=[],o=(n("9530"),n("aede")),a=n("2c82");function c(){var t=Object(o["a"])(["\n  query  {\n    directors {\n      id\n      name\n      age\n      movies{\n        name\n        id\n      }\n    }\n  }\n"]);return c=function(){return t},t}function d(){var t=Object(o["a"])(["\n  query  {\n    movies {\n        id\n        name\n        genre\n        rate\n        watched\n        director{\n          name\n        }\n    }\n  }\n"]);return d=function(){return t},t}Object(a["b"])(d()),Object(a["b"])(c());var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog",{staticClass:"color_bg",attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e},"update:md-active":function(e){t.showDialog=e}}},[n("md-dialog-title",[t._v("Добавить режисера")]),n("md-field",{attrs:{"md-inline":""}},[n("label",[t._v("Имя")]),n("md-input",{model:{value:t.director.name,callback:function(e){t.$set(t.director,"name",e)},expression:"director.name"}})],1),n("md-field",{attrs:{"md-inline":""}},[n("label",[t._v("Возраст")]),n("md-input",{model:{value:t.director.age,callback:function(e){t.$set(t.director,"age",t._n(e))},expression:"director.age"}})],1),n("button",{on:{click:t.addDirector}},[t._v("\n    Добавить\n  ")])],1)],1)},u=[],l={name:"DialogCustom",data:function(){return{showDialog:!0,showDialogEdit:!0,director:{name:"",age:""}}}},m={name:"DialogCustom",mixins:[l],methods:{addDirector:function(){this.$store.dispatch("addDirector",this.director),this.$emit("closeDialog")}}},f=m,v=(n("ed60"),n("2877")),p=Object(v["a"])(f,s,u,!1,null,null,null),g=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog",{staticClass:"color_bg",attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e},"update:md-active":function(e){t.showDialog=e}}},[n("md-dialog-title",[t._v("Редактировать режисера")]),n("md-field",{attrs:{"md-inline":""}},[n("label",[t._v("Имя")]),n("md-input",{model:{value:t.directorDataEdit.name,callback:function(e){t.$set(t.directorDataEdit,"name",e)},expression:"directorDataEdit.name"}})],1),n("md-field",{attrs:{"md-inline":""}},[n("label",[t._v("Возраст")]),n("md-input",{model:{value:t.directorDataEdit.age,callback:function(e){t.$set(t.directorDataEdit,"age",t._n(e))},expression:"directorDataEdit.age"}})],1),n("button",{on:{click:t.editDirector}},[t._v("\n    Сохранить\n  ")])],1)],1)},b=[],D={name:"DialogCustom",mixins:[l],props:["directorDataEdit"],methods:{editDirector:function(){this.$store.dispatch("editDirector",this.directorDataEdit),this.$emit("closeDialogEd")}}},w=D,_=(n("c808"),Object(v["a"])(w,h,b,!1,null,null,null)),y=_.exports,$={name:"directorList",components:{popupAddDirector:g,popupEditDir:y},data:function(){return{showDialog:!1,showDialogEdit:!1,boolean:!0}},computed:{directors:{get:function(){return this.$store.state.directors},set:function(t){this.$store.commit("getDirectors",t)}}},methods:{deleteDirector:function(t){this.$store.dispatch("deleteDirector",t)},popupEditDirector:function(t){this.editDirectorData=t,this.showDialogEdit=!this.showDialogEdit},closeDialogEd:function(){this.showDialogEdit=!1}},created:function(){this.$store.dispatch("getDirectors")}},O=$,E=(n("fa46"),Object(v["a"])(O,r,i,!1,null,"0c55942a",null));e["default"]=E.exports},ed60:function(t,e,n){"use strict";var r=n("8b1e"),i=n.n(r);i.a},f80c:function(t,e,n){},fa46:function(t,e,n){"use strict";var r=n("d123"),i=n.n(r);i.a}});
//# sourceMappingURL=app.1caee4b1.js.map